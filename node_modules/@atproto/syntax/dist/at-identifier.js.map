{"version":3,"file":"at-identifier.js","sourceRoot":"","sources":["../src/at-identifier.ts"],"names":[],"mappings":";;AAUA,0DAYC;AAED,kDAQC;AAhCD,qCAAqE;AACrE,2CAKoB;AAIpB,SAAgB,uBAAuB,CACrC,KAAa;IAEb,IAAI,CAAC;QACH,IAAI,KAAK,CAAC,UAAU,CAAC,MAAM,CAAC,EAAE,CAAC;YAC7B,IAAA,4BAAmB,EAAC,KAAK,CAAC,CAAA;QAC5B,CAAC;aAAM,CAAC;YACN,IAAA,kCAAsB,EAAC,KAAK,CAAC,CAAA;QAC/B,CAAC;IACH,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACf,MAAM,IAAI,8BAAkB,CAAC,uBAAuB,EAAE,EAAE,KAAK,EAAE,CAAC,CAAA;IAClE,CAAC;AACH,CAAC;AAED,SAAgB,mBAAmB,CACjC,KAAQ;IAER,IAAI,KAAK,CAAC,UAAU,CAAC,MAAM,CAAC,EAAE,CAAC;QAC7B,OAAO,IAAA,mBAAU,EAAC,KAAK,CAAC,CAAA;IAC1B,CAAC;SAAM,CAAC;QACN,OAAO,IAAA,yBAAa,EAAC,KAAK,CAAC,CAAA;IAC7B,CAAC;AACH,CAAC","sourcesContent":["import { DidString, ensureValidDidRegex, isValidDid } from './did.js'\nimport {\n  HandleString,\n  InvalidHandleError,\n  ensureValidHandleRegex,\n  isValidHandle,\n} from './handle.js'\n\nexport type AtIdentifierString = DidString | HandleString\n\nexport function ensureValidAtIdentifier(\n  input: string,\n): asserts input is AtIdentifierString {\n  try {\n    if (input.startsWith('did:')) {\n      ensureValidDidRegex(input)\n    } else {\n      ensureValidHandleRegex(input)\n    }\n  } catch (cause) {\n    throw new InvalidHandleError('Invalid DID or handle', { cause })\n  }\n}\n\nexport function isValidAtIdentifier<I extends string>(\n  input: I,\n): input is I & AtIdentifierString {\n  if (input.startsWith('did:')) {\n    return isValidDid(input)\n  } else {\n    return isValidHandle(input)\n  }\n}\n"]}