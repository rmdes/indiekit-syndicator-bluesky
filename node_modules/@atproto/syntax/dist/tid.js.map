{"version":3,"file":"tid.js","sourceRoot":"","sources":["../src/tid.ts"],"names":[],"mappings":";;;AAKA,wCAUC;AAED,gCAEC;AAjBD,MAAM,UAAU,GAAG,EAAE,CAAA;AACrB,MAAM,SAAS,GAAG,4DAA4D,CAAA;AAE9E,SAAgB,cAAc,CAC5B,KAAQ;IAER,IAAI,KAAK,CAAC,MAAM,KAAK,UAAU,EAAE,CAAC;QAChC,MAAM,IAAI,eAAe,CAAC,eAAe,UAAU,aAAa,CAAC,CAAA;IACnE,CAAC;IACD,sEAAsE;IACtE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC;QAC3B,MAAM,IAAI,eAAe,CAAC,8BAA8B,CAAC,CAAA;IAC3D,CAAC;AACH,CAAC;AAED,SAAgB,UAAU,CAAmB,KAAQ;IACnD,OAAO,KAAK,CAAC,MAAM,KAAK,UAAU,IAAI,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAA;AAC7D,CAAC;AAED,MAAa,eAAgB,SAAQ,KAAK;CAAG;AAA7C,0CAA6C","sourcesContent":["export type TidString = string\n\nconst TID_LENGTH = 13\nconst TID_REGEX = /^[234567abcdefghij][234567abcdefghijklmnopqrstuvwxyz]{12}$/\n\nexport function ensureValidTid<I extends string>(\n  input: I,\n): asserts input is I & TidString {\n  if (input.length !== TID_LENGTH) {\n    throw new InvalidTidError(`TID must be ${TID_LENGTH} characters`)\n  }\n  // simple regex to enforce most constraints via just regex and length.\n  if (!TID_REGEX.test(input)) {\n    throw new InvalidTidError('TID syntax not valid (regex)')\n  }\n}\n\nexport function isValidTid<I extends string>(input: I): input is I & TidString {\n  return input.length === TID_LENGTH && TID_REGEX.test(input)\n}\n\nexport class InvalidTidError extends Error {}\n"]}